spring:
  application:
    name: 'api-gateway-service'

  kafka:
    bootstrap-servers: ${KAFKA_CONNECT}
    consumer:
      auto-offset-reset: earliest
      group-id: api-event
      enable-auto-commit: true

    acks: all
    retries: 5
    retry:
      backoff:
        ms: 5000

  jpa:
    datasource:
      url: ${SPRING_DATASOURCE_URL}
      username: ${SPRING_DATASOURCE_USERNAME}
      password: ${SPRING_DATASOURCE_PASSWORD}
      driver-class-name: org.postgresql.Driver

  redis:
    host: ${REDIS_CONNECT}
    port: 6379

  cache:
    type: redis

zuul:
  routes:
    api-sweepstake-engine:
      path: '/internal/sweepstake/**'
      serviceId: 'api-sweepstake-engine'
      url: 'http://api-sweepstake-engine:8080/'
      sensitiveHeaders:
      stripPrefix: false

    api-ticket-engine:
      path: '/internal/ticket/**'
      serviceId: 'api-ticket-engine'
      url: 'http://api-ticket-engine:8080/'
      sensitiveHeaders:
      stripPrefix: false
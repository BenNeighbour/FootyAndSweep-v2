apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: api-gateway-engine
  namespace: default
spec:
  gateways:
    - internal-gtw
    - mesh
  hosts:
    - api-gateway-engine.default.svc.cluster.local
  tcp:
    - route:
      - destination:
          host: api-gateway-engine.default.svc.cluster.local
          port:
            number: 8080
  http:
    - route:
      - destination:
          host: api-gateway-engine.default.svc.cluster.local
          port:
            number: 9090